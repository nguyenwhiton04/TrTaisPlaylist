<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" context="width=device-width", initial-scale="1.0">
        <title>tr. tai's playlist</title>
        <link rel="stylesheet" href="style.css">
        <script src="https://kit.fontawesome.com/1a476ba48b.js" crossorigin="anonymous"></script>
        <style>
            .hidden{
                display: none;
            }

            #secret {
                margin-top: 20px;
                font-size: 48px;
                color: green;
                font-weight: bold;
                display: none; /* hidden by default */
            }
        </style>
    </head>

    <body>
        <div class="container">
            <div class="options">
                <button id="playlist">tr. t√†i's playlist</button>
                <button id="wordle">code</button>
            </div>

            <div class="wordle-code hidden" id="wordle-code">
                <div id="secret">üéâ Secret message: POOPOOPEEPEE üéâ</div>
                <h2>enter the 5-digit code</h2>
                <input type="text" id="display" readonly maxlength="5">
              
                <div class="button-grid">
                    <div id="calc">
                        <button class="num-btn">1</button>
                        <button class="num-btn">2</button>
                        <button class="num-btn">3</button>
                    </div>

                    <div id="calc">
                        <button class="num-btn">4</button>
                        <button class="num-btn">5</button>
                        <button class="num-btn">6</button>
                    </div>

                    <div id="calc">
                        <button class="num-btn">7</button>
                        <button class="num-btn">8</button>
                        <button class="num-btn">9</button>
                    </div>
                </div>
              
                <button id="zero" class="num-btn">0</button>
                <br><br>
                <button id="enter">Enter</button>
              
            </div>

            <div class="music-player" id="music-player">
                <img id="album-cover" src="media/album-covers/mrtai.jpeg" class="song-img">
                <h1 id="song-name"></h1>
                <p id="artist"></p>

                <div id="audio-div">
                    <audio id="song-audio">
                        <source id="song-file" src="" type="audio/mpeg">
                    </audio>
                    <input type="range" value="0" id="progress">
                    <div class="controls">
                        <div onclick="playPause()"><i class="fa-solid fa-play" id="ctrlIcon"></i></div>
                    </div>
                </div>
                

                <div class="song-selection">
                    <button id="song1" class="song-button">
                        <img id="song-selection-picture" src="media/album-covers/nhuquynh.jpeg">
                        <div>
                            <p id="song-info">Ng∆∞·ªùi T√¨nh M√πa ƒê√¥ng</p>
                            <p id="song-info">Nh∆∞ Qu·ª≥nh</p>
                        </div>
                    </button>
                    <button id="song2" class="song-button">
                        <img id="song-selection-picture" src="media/album-covers/vangtrangkhoc.jpeg">
                        <div>
                            <p id="song-info">V·∫ßng TrƒÉng Kh√≥c</p>
                            <p id="song-info">Nh·∫≠t Tinh Anh ft. Kh√°nh Ng·ªçc</p>
                        </div>
                    </button>
                    <button id="song3" class="song-button">
                        <img id="song-selection-picture" src="media/album-covers/thamgoitenanh.jpg">
                        <div>
                            <p id="song-info">Th·∫ßm G·ªçi T√™n Anh</p>
                            <p id="song-info">Minh Tuy·∫øt</p>
                        </div>
                    </button>
                    <button id="song4" class="song-button">
                        <img id="song-selection-picture" src="media/album-covers/hayvedaybenanh.jpeg">
                        <div>
                            <p id="song-info">H√£y V·ªÅ ƒê√¢y B√™n Anh</p>
                            <p id="song-info">Duy M·∫°nh</p>
                        </div>
                    </button>
                    <button id="song5" class="song-button">
                        <img id="song-selection-picture" src="media/album-covers/xinloianh.jpg">
                        <div>
                            <p id="song-info">Xin L·ªói Anh</p>
                            <p id="song-info">B·∫±ng Ki√™u 7t. Minh Tuy·∫øt</p>
                        </div>
                    </button>

                    
                    
                </div>
            </div>
        </div>

        <script>
            const sections = document.querySelectorAll(".section");
            const playlist_button = document.getElementById("playlist");
            const code_button = document.getElementById("wordle");
            const music_player = document.getElementById("music-player");
            const wordle_code = document.getElementById("wordle-code");
            const song_title = document.getElementById("song-name");
            const artist_name = document.getElementById("artist");
            const album_cover = document.getElementById("album-cover");
            const song_file = document.getElementById("song-file");
            const audio = document.getElementById("song-audio");
            const button1 = document.getElementById("song1");
            const button2 = document.getElementById("song2");
            const button3 = document.getElementById("song3");
            const button4 = document.getElementById("song4");
            const button5 = document.getElementById("song5");

            let progress = document.getElementById("progress");
            let ctrlIcon = document.getElementById("ctrlIcon");

            audio.onloadmetadata = function(){
                progress.max = audio.duration;
                progress.value = song.currentTime;
            }

            function playPause(){
                if(ctrlIcon.classList.contains("fa-pause")){
                    audio.pause();
                    ctrlIcon.classList.remove("fa-pause");
                    ctrlIcon.classList.add("fa-play");
                    album_cover.classList.remove("spin");
                } else {
                    audio.play();
                    ctrlIcon.classList.remove("fa-play");
                    ctrlIcon.classList.add("fa-pause");
                    album_cover.classList.add("spin");
                }
            }

            if(audio.play()){
                setInterval(()=>{
                    progress.value = audio.currentTime;
                }, 500);
            }

            function showSection(sectionToShow){
                music_player.classList.add("hidden");
                wordle_code.classList.add("hidden");
                sectionToShow.classList.remove("hidden");
                audio.pause();
            }
            playlist_button.addEventListener("click", () => showSection(music_player));
            code_button.addEventListener("click", () => showSection(wordle_code));



            button1.addEventListener("click", () => {
                song_title.textContent = "Ng∆∞·ªùi T1nh M√πa ƒê√¥ng";
                artist_name.textContent = "Nh∆∞ Qu·ª≥nh";
                album_cover.src = "media/album-covers/nhuquynh.jpeg";
                song_file.src = "media/songs/nhuquynh.mp3";
                audio.load();
                ctrlIcon.classList.remove("fa-pause");
                ctrlIcon.classList.add("fa-play");
                
                if(album_cover.classList.contains("spin")){
                    album_cover.classList.remove("spin");
                }

            });

            button2.addEventListener("click", () => {
                song_title.textContent = "V·∫ßng TrƒÉng Kh√≥c";
                artist_name.textContent = "Nh·∫≠t Tinh Anh ft. Kh√°nh Ng0c";
                album_cover.src = "media/album-covers/vangtrangkhoc.jpeg";
                song_file.src = "media/songs/vangtrangkhoc.mp3";
                audio.load();
                ctrlIcon.classList.remove("fa-pause");
                ctrlIcon.classList.add("fa-play");
                if(album_cover.classList.contains("spin")){
                    album_cover.classList.remove("spin");
                }
            });

            button3.addEventListener("click", () => {
                song_title.textContent = "Th·∫ßm G·ªçi T√™n 4nh";
                artist_name.textContent = "Minh Tuy·∫øt";
                album_cover.src = "media/album-covers/thamgoitenanh.jpg";
                song_file.src = "media/songs/thamgoitenanh.mp3";
                audio.load();
                ctrlIcon.classList.remove("fa-pause");
                ctrlIcon.classList.add("fa-play");
                if(album_cover.classList.contains("spin")){
                    album_cover.classList.remove("spin");
                }
            });

            button4.addEventListener("click", () => {
                song_title.textContent = "H√£y V·ªÅ ƒê√¢y 8√™n Anh";
                artist_name.textContent = "Duy M·∫°nh";
                album_cover.src = "media/album-covers/hayvedaybenanh.jpeg";
                song_file.src = "media/songs/hayvedaybenanh.mp3";
                audio.load();
                ctrlIcon.classList.remove("fa-pause");
                ctrlIcon.classList.add("fa-play");
                if(album_cover.classList.contains("spin")){
                    album_cover.classList.remove("spin");
                }
            });

            button5.addEventListener("click", () => {
                song_title.textContent = "Xin L·ªói Anh";
                artist_name.textContent = "B·∫±ng Ki√™u 7t. Minh Tuy·∫øt";
                album_cover.src = "media/album-covers/xinloianh.jpg";
                song_file.src = "media/songs/xinloianh.mp3";
                audio.load();
                ctrlIcon.classList.remove("fa-pause");
                ctrlIcon.classList.add("fa-play");
                if(album_cover.classList.contains("spin")){
                    album_cover.classList.remove("spin");
                }
            });



            const display = document.getElementById("display");
            const numButtons = document.querySelectorAll(".num-btn");
            const enterButton = document.getElementById("enter");
            const secret = document.getElementById("secret");

            const secretCode = "10487";

            // Handle digit button clicks
            numButtons.forEach(btn => {
            btn.addEventListener("click", () => {
                if (display.value.length < 5) {
                display.value += btn.textContent;
                }
            });
            });

            // Handle Enter button
            enterButton.addEventListener("click", () => {
            if (display.value === secretCode) {
                secret.style.display = "block"; // show message
            } else {
                alert("Incorrect code. Try again!");
            }
            display.value = ""; // reset input
            });
        </script>
    </body>
</html>
